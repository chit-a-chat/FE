#!/bin/bash

echo "ğŸ” ì»¤ë°‹ ì „ ì½”ë“œ ê²€ì‚¬"

# untracked => tracked => staged
# stagedëœ íŒŒì¼ ì œì™¸ ëª¨ë‘ stash
git stash -ku
pnpm lint-staged
# $?ëŠ” ìµœê·¼ ëª…ë ¹ì–´ ì„±ê³µì—¬ë¶€ (-eqëŠ” ==) )(-neëŠ” !==)
if [ $? -eq 0 ]; then
    echo "âœ… ì½”ë“œ ê²€ì‚¬ë¥¼ í†µê³¼í–ˆìŠµë‹ˆë‹¤."
    git stash pop
    exit 0
else
    echo "âŒ ì½”ë“œ ê²€ì‚¬ë¥¼ ë‹¤ì‹œ í•´ì£¼ì„¸ìš”."
    git stash pop
    exit 1
fi
